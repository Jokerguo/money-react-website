(this["webpackJsonpwangcai-react"]=this["webpackJsonpwangcai-react"]||[]).push([[0],{39:function(n,e,t){var c={"./chart.svg":40,"./left.svg":41,"./money.svg":42,"./right.svg":43,"./tag.svg":44};function a(n){var e=i(n);return t(e)}function i(n){if(!t.o(c,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return c[n]}a.keys=function(){return Object.keys(c)},a.resolve=i,n.exports=a,a.id=39},40:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),o=new a.a({id:"chart",use:"chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="chart"><path d="M272 979.2H65.6c-12.8 0-24-11.2-24-24v-360c0-12.8 11.2-24 24-24H272c12.8 0 24 11.2 24 24v360c0 12.8-11.2 24-24 24zm342.4-4.8H401.6c-12.8 0-24-11.2-24-24V59.2c0-12.8 11.2-24 24-24h212.8c12.8 0 24 11.2 24 24v891.2c0 12.8-11.2 24-24 24zm344 0H756.8c-12.8 0-24-11.2-24-24V371.2c0-12.8 11.2-24 24-24H960c12.8 0 24 11.2 24 24v579.2c-1.6 12.8-12.8 24-25.6 24z" /></symbol>'});r.a.add(o);e.default=o},41:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),o=new a.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><path d="m677.888 26.396-431.56 431.56c-1.023.91-2.047 1.934-3.071 2.844-28.445 28.444-28.445 74.41 0 102.855L677.092 997.49c28.444 28.444 74.41 28.444 102.855 0s28.444-74.41 0-102.855L397.653 512.34l383.09-383.09c28.445-28.444 28.445-74.41 0-102.855-28.444-28.33-74.41-28.33-102.855 0z" /></symbol>'});r.a.add(o);e.default=o},42:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),o=new a.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><path d="M447.488 764.928H249.856q-27.648-2.048-42.496-23.04t-17.92-46.592q3.072-25.6 17.92-41.984t42.496-18.432h197.632v-64.512l-197.632-1.024q-27.648-2.048-42.496-19.456t-17.92-44.032q3.072-25.6 17.92-41.984t42.496-18.432h147.456L260.096 203.776q-10.24-12.288-19.456-31.232t-8.192-41.472q5.12-28.672 20.48-46.592t57.344-23.04q24.576 2.048 44.032 16.896t31.744 32.256l155.648 284.672 171.008-286.72q12.288-17.408 31.744-30.72T788.48 61.44q15.36 1.024 28.16 4.096t22.528 10.24 16.384 20.48 9.728 34.816q0 29.696-20.48 56.32L686.08 445.44h150.528q26.624 2.048 41.984 18.432T896 505.856q-2.048 26.624-17.92 45.056t-42.496 20.48L640 572.416v62.464h196.608q26.624 2.048 41.984 20.48T896 699.392q-2.048 26.624-17.408 44.544t-41.984 19.968L640 762.88v108.544q-4.096 87.04-95.232 87.04-45.056 0-70.144-21.504t-27.136-65.536V764.928z" /></symbol>'});r.a.add(o);e.default=o},43:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),o=new a.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><path d="M300.6 895.7c9.6 0 19.3-3.2 27.4-9.6l423.8-340.9c10.3-8.3 16.3-20.8 16.3-34.1 0-13.2-6-25.8-16.3-34L329.8 138c-18.8-15.1-46.3-12.1-61.4 6.7-15.1 18.8-12.1 46.3 6.7 61.4l379.6 305.1L273.2 818c-18.8 15.1-21.8 42.6-6.7 61.4 8.7 10.7 21.3 16.3 34.1 16.3z" /></symbol>'});r.a.add(o);e.default=o},44:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),o=new a.a({id:"tag",use:"tag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tag"><path d="M939.133 79.047c-10.439-10.526-24.587-16.45-39.343-16.45l-338.631.023c-14.75 0-28.905 5.9-39.336 16.434L81.448 523.464C71.018 534 65.156 548.276 65.156 563.168s5.861 29.17 16.292 39.697l338.624 341.746c10.869 10.962 25.106 16.45 39.343 16.45 14.245 0 28.482-5.488 39.336-16.45l440.382-444.424c10.43-10.535 16.3-24.812 16.3-39.713V118.752c0-14.893-5.87-29.17-16.3-39.705zm-243.365 357.91c-61.458 0-111.284-50.284-111.284-112.308s49.826-112.308 111.284-112.308 111.285 50.284 111.285 112.308-49.826 112.308-111.285 112.308z" /></symbol>'});r.a.add(o);e.default=o},50:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var c,a=t(1),i=t.n(a),r=t(28),o=t.n(r),s=t(13),d=t(4),l=t(10),u=t(2),j=t(3),b=t(6),x=t(21),f=t(29),h=t.n(f),g=t(0);try{(c=t(39)).keys().forEach(c)}catch(Cn){console.log(Cn)}var O,p=function(n){var e=n.name,t=n.className,c=(n.children,Object(x.a)(n,["name","className","children"]));return Object(g.jsx)("svg",Object(b.a)(Object(b.a)({className:h()("icon",t)},c),{},{children:e&&Object(g.jsx)("use",{xlinkHref:"#"+e})}))},m=j.a.nav(O||(O=Object(u.a)(["\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  background: #fff;\n  > ul {\n    display: flex;\n    > li {\n      width: 33.3333%;\n      > a{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 4px 0;\n        &.selected{\n          background: #408CCB;\n          color: #fff;\n          .icon{\n            background: #408CCB;\n            fill: #fff;\n          }\n        }\n      }\n    }\n  }\n"])));var v,w,y,k,C,N,S=function(){return Object(g.jsx)(m,{children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsxs)(s.c,{exact:!0,to:"/tags",activeClassName:"selected",children:[Object(g.jsx)(p,{name:"tag"}),"\u6807\u7b7e\u9875"]})}),Object(g.jsx)("li",{children:Object(g.jsxs)(s.c,{to:"/money",activeClassName:"selected",children:[Object(g.jsx)(p,{name:"money"}),"\u8bb0\u8d26\u9875"]})}),Object(g.jsx)("li",{children:Object(g.jsxs)(s.c,{to:"/statistics",activeClassName:"selected",children:[Object(g.jsx)(p,{name:"chart"}),"\u7edf\u8ba1\u9875"]})})]})})},z=j.a.div(v||(v=Object(u.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]))),I=j.a.div(w||(w=Object(u.a)(["\n  flex-grow: 1;\n"]))),q=function(n){return Object(g.jsxs)(z,{children:[Object(g.jsx)(I,{className:n.className,children:n.children}),Object(g.jsx)(S,{})]})},B=j.a.section(y||(y=Object(u.a)(["\n  font-size: 24px;\n  text-align: center;\n  > ul{\n    display: flex;\n    > li{\n      width: 50%;\n      padding: 16px 0;\n      position: relative;\n      &.selected::after{\n        content: '';\n        display: block;\n        height: 3px;\n        background: #333;\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n      }\n    }\n  }\n"]))),T=function(n){var e={"+":"\u6536\u5165","-":"\u652f\u51fa"},t=Object(a.useState)(["+","-"]),c=Object(l.a)(t,1)[0],i=n.value;return Object(g.jsx)(B,{children:Object(g.jsx)("ul",{children:c.map((function(t){return Object(g.jsx)("li",{className:i===t?"selected":"",onClick:function(){return n.onChange(t)},children:e[t]},t)}))})})},L=t(15),M=function(n,e){var t=Object(a.useRef)(0);Object(a.useEffect)((function(){t.current+=1})),Object(a.useEffect)((function(){t.current>1&&n()}),[n,e])},E=function(){var n=Object(a.useState)([]),e=Object(l.a)(n,2),t=e[0],c=e[1];Object(a.useEffect)((function(){c(JSON.parse(window.localStorage.getItem("record")||"[]"))}),[]),M((function(){window.localStorage.setItem("record",JSON.stringify(t))}),t);return{record:t,addRecord:function(n){if(0===n.tagIds.length)return alert("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1;if(0===n.amount)return alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1;var e=Object(b.a)(Object(b.a)({},n),{},{createdAt:(new Date).toISOString()});return c([].concat(Object(L.a)(t),[e])),!0},delRecord:function(n){c(t.filter((function(e,t){return-1===e.tagIds.indexOf(n)})))}}},D=parseInt(window.localStorage.getItem("idMax")||"0"),H=function(){return D+=1,window.localStorage.setItem("idMax",D.toString()),D},J=function(){var n=Object(a.useState)([]),e=Object(l.a)(n,2),t=e[0],c=e[1],i=E().delRecord;Object(a.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:H(),name:"\u8863"},{id:H(),name:"\u98df"},{id:H(),name:"\u4f4f"},{id:H(),name:"\u884c"}]),c(n)}),[]),M((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),t);return{tags:t,setTags:c,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},updateTag:function(n,e){return c(t.map((function(t){return t.id===n?{id:n,name:e}:t})))},delTag:function(n){c(t.filter((function(e){return e.id!==n}))),i(n)},addTag:function(){var n=window.prompt("\u6807\u7b7e\u540d\u79f0\uff1a");n&&c([].concat(Object(L.a)(t),[{id:H(),name:n}]))}}},F=t(33),R=t.n(F),V=j.a.div(k||(k=Object(u.a)(["\n  background: #FFF;\n"]))),Y=j.a.div(C||(C=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  font-size: 18px;\n  background: #fff;\n  > .tags{\n    max-width: 30%;\n  }\n  > .amount{\n    max-width: 30%;\n  }\n  > .note{\n    margin-left: 12px;\n    margin-right: auto;\n    color: #999;\n    font-size: 14px;\n    flex-grow: 1;\n  }\n"]))),A=j.a.h3(N||(N=Object(u.a)(["\n  font-weight: normal;\n  padding: 6px;\n"])));var K,U,_,G,P,Q,W,X,Z=function(){var n=Object(a.useState)("-"),e=Object(l.a)(n,2),t=e[0],c=e[1],i=E().record,r=J().findTag,o={};i.forEach((function(n){var e=R()(n.createdAt).format("YYYY-MM-DD");o[e]||(o[e]=[]),o[e].push(n)}));var s=Object.entries(o).sort((function(n,e){return n[0]<e[0]?1:n[0]>e[0]?-1:0})),d=function(n){return n.filter((function(n){return n.category===t}))};return Object(g.jsxs)(q,{children:[Object(g.jsx)(V,{children:Object(g.jsx)(T,{value:t,onChange:function(n){return c(n)}})}),s.map((function(n){var e=Object(l.a)(n,2),t=e[0],c=e[1];return Object(g.jsxs)("div",{children:[d(c).length>0?Object(g.jsx)(A,{children:t}):"",d(c).map((function(n){return Object(g.jsxs)(Y,{children:[Object(g.jsx)("div",{className:"tags oneLine",children:n.tagIds.map((function(n){return r(n).name})).join()}),Object(g.jsx)("div",{className:"note oneLine",children:n.note}),Object(g.jsxs)("div",{className:"amount",children:["\uffe5",n.amount]})]},n.createdAt)}))]},t)}))]})},$=j.a.div(K||(K=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 48px 0;\n  > button{\n    font-size: 18px;\n    border: none;\n    padding: 8px 12px;\n    background: #408CCB;\n    border-radius: 4px;\n    color: white;\n  }\n"]))),nn=function(n){return Object(g.jsx)($,{children:Object(g.jsx)("button",{onClick:n.onClick,children:n.name})})},en=j.a.ol(U||(U=Object(u.a)(["\n  font-size: 16px;\n  background: #fff;\n  > li{\n    line-height: 20px;\n    border-bottom: 1px solid #d5d5d5;\n    margin-left: 16px;\n    > a{\n      padding: 12px 16px 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n"]))),tn=function(){var n=J(),e=n.tags,t=n.addTag;return Object(g.jsxs)(q,{children:[Object(g.jsx)(en,{children:e.map((function(n){return Object(g.jsx)("li",{children:Object(g.jsxs)(s.b,{to:"/tags/"+n.id,children:[Object(g.jsx)("span",{className:"oneLine",children:n.name}),Object(g.jsx)(p,{name:"right"})]})},n.id)}))}),Object(g.jsx)(nn,{onClick:t,name:"\u65b0\u589e\u6807\u7b7e"})]})},cn=j.a.section(_||(_=Object(u.a)(["\n  flex-grow: 1;\n  background: #fff;\n  padding: 12px 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  > ol{\n    display: flex;\n    flex-flow: wrap;\n    margin-left: -12px;\n    overflow: auto;\n    > li{\n      background: #D9D9D9;\n      border-radius: 18px;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 12px;\n      &.selected{\n        background: #f60;\n      }\n    }\n  }\n  > button{\n    border: none;\n    background: none;\n    border-bottom:1px solid #333;\n    color: #666;\n    padding: 2px 4px;\n    margin-top: 8px;\n\n  }\n"]))),an=function(n){var e=J(),t=e.tags,c=e.addTag,a=n.value;return Object(g.jsxs)(cn,{children:[Object(g.jsx)("ol",{children:t.map((function(e){return Object(g.jsx)("li",{onClick:function(){return t=e.id,void(-1===a.indexOf(t)?n.onChange([].concat(Object(L.a)(a),[t])):n.onChange(a.filter((function(n){return n!==t}))));var t},className:(t=e.id,-1!==a.indexOf(t)?"selected":""),children:e.name},e.id);var t}))}),Object(g.jsx)("button",{onClick:c,children:"\u65b0\u589e\u6807\u7b7e"})]})},rn=j.a.label(G||(G=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  > span{\n    margin-right: 16px;\n    white-space: nowrap;\n  }\n  > input{\n    display: block;\n    width: 100%;\n    height: 44px;\n    border: none;\n    background: none;\n    &:focus{\n      outline: none;\n    }\n  }\n"]))),on=function(n){var e=n.label,t=(n.children,Object(x.a)(n,["label","children"]));return Object(g.jsxs)(rn,{children:[Object(g.jsx)("span",{children:e}),Object(g.jsx)("input",Object(b.a)({},t))]})},sn=j.a.section(P||(P=Object(u.a)(["\n  background: #f5f5f5;\n  padding: 14px 16px;\n"]))),dn=function(n){var e=n.value;return Object(g.jsx)(sn,{children:Object(g.jsx)(on,{label:"\u5907\u6ce8",type:"text",placeholder:"\u6dfb\u52a0\u5907\u6ce8",value:e,onChange:function(e){n.onChange(e.target.value)}})})},ln=j.a.section(Q||(Q=Object(u.a)(["\n  > .output{\n    font-size: 32px;\n    background: #fff;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.5);\n  }\n  > .pad{\n    > button{\n      float: left;\n      height: 64px;\n      width: 25%;\n      border: none;\n      &.ok{float: right;height: 128px;}\n      &.zeo{width: 50%;}\n      &:nth-child(1){\n        background: #f2f2f2;\n      }\n      &:nth-child(2),\n      &:nth-child(5){\n        background: #e0e0e0;\n      }\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9){\n        background: #d3d3d3;\n      }\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10){\n        background: #c1c1c1;\n      }\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13){\n        background: #b8b8b8;\n      }\n      &:nth-child(12){\n        background: #9a9a9a;\n      }\n      &:nth-child(14){\n        background: #a9a9a9;\n      }\n    }\n  }\n"]))),un=function(n){var e=n.value;return Object(g.jsxs)(ln,{children:[Object(g.jsx)("div",{className:"output",children:e}),Object(g.jsxs)("div",{className:"pad clearfix",onClick:function(t){var c=t.target.textContent;"OK"!==c?null!==c&&function(e){var t=e.length>16?e.slice(0,16):e;n.onChange(t)}(function(n,e){switch(n){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":return"0"===e?n:e+n;case".":return-1===e.indexOf(".")?e+n:e;case"\u5220\u9664":return e.length<=1?"0":e.slice(0,-1)||"";case"\u6e05\u7a7a":return"0";default:return""}}(c,e)):n.onOk()},children:[Object(g.jsx)("button",{children:"1"}),Object(g.jsx)("button",{children:"2"}),Object(g.jsx)("button",{children:"3"}),Object(g.jsx)("button",{children:"\u5220\u9664"}),Object(g.jsx)("button",{children:"4"}),Object(g.jsx)("button",{children:"5"}),Object(g.jsx)("button",{children:"6"}),Object(g.jsx)("button",{children:"\u6e05\u7a7a"}),Object(g.jsx)("button",{children:"7"}),Object(g.jsx)("button",{children:"8"}),Object(g.jsx)("button",{children:"9"}),Object(g.jsx)("button",{className:"ok",children:"OK"}),Object(g.jsx)("button",{className:"zeo",children:"0"}),Object(g.jsx)("button",{children:"."})]})]})},jn=Object(j.a)(q)(W||(W=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),bn=j.a.div(X||(X=Object(u.a)(["\n  background: #C4C4C4;\n"]))),xn={tagIds:[],note:"",category:"-",amount:"0"},fn=function(){var n=Object(a.useState)(xn),e=Object(l.a)(n,2),t=e[0],c=e[1],i=E().addRecord,r=function(n){return c(Object(b.a)(Object(b.a)({},t),n))};return Object(g.jsxs)(jn,{children:[Object(g.jsx)(an,{value:t.tagIds,onChange:function(n){return r({tagIds:n})}}),Object(g.jsx)(dn,{value:t.note,onChange:function(n){return r({note:n})}}),Object(g.jsx)(bn,{children:Object(g.jsx)(T,{value:t.category,onChange:function(n){return r({category:n})}})}),Object(g.jsx)(un,{value:t.amount,onChange:function(n){return r({amount:n})},onOk:function(){var n=Object(b.a)(Object(b.a)({},t),{},{amount:parseFloat(t.amount)});i(n)&&(alert("\u63d0\u4ea4\u6210\u529f"),c(xn))}})]})};var hn,gn,On,pn=function(){return Object(g.jsx)("p",{children:"\u5565\u4e5f\u4e0d\u662f"})},mn=j.a.header(hn||(hn=Object(u.a)(["\n  background: #fff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 20px;\n  padding: 14px;\n"]))),vn=j.a.div(gn||(gn=Object(u.a)(["\n  padding: 0 16px;\n  margin-top: 16px;\n  background: #fff;\n"]))),wn=j.a.div(On||(On=Object(u.a)(["\n  text-align: center;\n  padding: 16px;\n  font-size: 20px;\n"]))),yn=function(){var n=J(),e=n.findTag,t=n.updateTag,c=n.delTag,a=Object(d.h)().id,i=e(parseInt(a)),r=Object(d.g)(),o=function(){r.goBack()};return Object(g.jsxs)(q,{children:[Object(g.jsxs)(mn,{children:[Object(g.jsx)(p,{name:"left",onClick:o}),Object(g.jsx)("span",{children:"\u7f16\u8f91\u6807\u7b7e"}),Object(g.jsx)(p,{})]}),i?Object(g.jsxs)("div",{children:[Object(g.jsx)(vn,{children:Object(g.jsx)(on,{label:"\u6807\u7b7e\u540d",type:"text",value:i.name,onChange:function(n){t(i.id,n.target.value)}})}),Object(g.jsx)(nn,{onClick:function(){c(i.id),o()},name:"\u5220\u9664\u6807\u7b7e"})]}):Object(g.jsx)(wn,{children:"\u5df2\u5220\u9664"})]})};var kn=function(){return Object(g.jsx)(s.a,{children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(d.b,{exact:!0,path:"/tags",children:Object(g.jsx)(tn,{})}),Object(g.jsx)(d.b,{exact:!0,path:"/tags/:id",children:Object(g.jsx)(yn,{})}),Object(g.jsx)(d.b,{exact:!0,path:"/money",children:Object(g.jsx)(fn,{})}),Object(g.jsx)(d.b,{exact:!0,path:"/statistics",children:Object(g.jsx)(Z,{})}),Object(g.jsx)(d.a,{exact:!0,from:"/",to:"/money"}),Object(g.jsx)(d.b,{path:"*",children:Object(g.jsx)(pn,{})})]})})};t(50);o.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(kn,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.99625367.chunk.js.map